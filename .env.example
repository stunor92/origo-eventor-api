# OriGo EventorApi - Environment Configuration (RSA JWT Only)

# =============================================================================
# SUPABASE CONFIGURATION (REQUIRED)
# =============================================================================

# Your Supabase project reference (e.g., abcdefgh12345678)
# The application will automatically construct:
#   - JWT_JWKS_URI: https://YOUR_PROJECT_REF.supabase.co/auth/v1/.well-known/jwks.json
#   - JWT_ISSUER: https://YOUR_PROJECT_REF.supabase.co/auth/v1
#
SUPABASE_PROJECT_REF=YOUR_PROJECT_REF

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

POSTGRES_DB=jdbc:postgresql://127.0.0.1:54322/postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres

# =============================================================================
# HOW TO CONFIGURE
# =============================================================================

# 1. Find your Supabase project reference:
#    - Go to https://app.supabase.com
#    - Select your project
#    - Look at URL or Settings → API → Project URL
#    - Example: abcdefgh12345678 (from https://abcdefgh12345678.supabase.co)

# 2. Replace YOUR_PROJECT_REF above with your actual value

# 3. Copy this file: cp .env.example .env

# 4. Run the application: source .env && mvn spring-boot:run

# =============================================================================
# FOR LOCAL SUPABASE (Docker)
# =============================================================================

# If running Supabase locally with Docker, override the URIs:
# SUPABASE_PROJECT_REF=local  # Not used when overriding below
# JWT_JWKS_URI=http://localhost:54321/rest/v1/jwks
# JWT_ISSUER=http://localhost:54321/auth/v1

# =============================================================================
# ADVANCED: Manual Override (Optional)
# =============================================================================

# You can still override individual URIs if needed:
# JWT_JWKS_URI=https://custom-domain.com/jwks
# JWT_ISSUER=https://custom-domain.com/auth

# =============================================================================
# TESTING
# =============================================================================

# 1. Test health endpoint:
#    curl http://localhost:8080/rest/actuator/health

# 2. Get JWT token from Supabase:
#    curl -X POST "https://YOUR_PROJECT_REF.supabase.co/auth/v1/token?grant_type=password" \
#      -H "apikey: YOUR_ANON_KEY" \
#      -H "Content-Type: application/json" \
#      -d '{"email":"user@example.com","password":"password"}'

# 3. Test with token:
#    curl -H "Authorization: Bearer YOUR_JWT_TOKEN" \
#      http://localhost:8080/rest/event-list/me

# =============================================================================
# NOTES
# =============================================================================

# - Just set SUPABASE_PROJECT_REF and you're done!
# - URIs are automatically constructed
# - Uses ONLY RSA JWT validation (Spring Boot standard)
# - No legacy HMAC support
# - Spring Boot auto-configures everything!

# DO NOT commit .env file to git!
